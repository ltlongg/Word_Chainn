    <!-- Game Mode Selection Modal -->
    <div id="gameModeModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-purple-600">ğŸ® Chá»n cháº¿ Ä‘á»™ chÆ¡i</h2>
                <button onclick="gameModeManager.closeModeSelection()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="gameModeGrid" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <!-- Will be populated by JavaScript -->
            </div>
            <div id="themeSelectionContainer" class="hidden mt-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ¨ Chá»n chá»§ Ä‘á»</h3>
                <div id="themeGrid" class="grid grid-cols-3 md:grid-cols-4 gap-3">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Challenges Modal -->
    <div id="challengesModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-orange-600">ğŸ¯ Thá»­ thÃ¡ch</h2>
                <button onclick="challengesManager.closeDashboard()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="challengesContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Completed Challenges Modal -->
    <div id="completedChallengesModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-green-600">âœ… Thá»­ thÃ¡ch Ä‘Ã£ hoÃ n thÃ nh</h2>
                <button onclick="challengesManager.closeCompleted()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="completedChallengesList">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Statistics Modal -->
    <div id="statisticsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-5xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-cyan-600">ğŸ“Š Thá»‘ng kÃª chi tiáº¿t</h2>
                <button onclick="statisticsManager.closeDashboard()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="statisticsContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Letter Frequency Modal -->
    <div id="letterFrequencyModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-indigo-600">ğŸ”¤ PhÃ¢n tÃ­ch chá»¯ cÃ¡i</h2>
                <button onclick="statisticsManager.closeLetterFrequency()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="letterFrequencyContent">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Session History Modal -->
    <div id="sessionHistoryModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-purple-600">ğŸ“œ Lá»‹ch sá»­ vÃ¡n Ä‘áº¥u</h2>
                <button onclick="statisticsManager.closeSessionHistory()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="sessionHistoryContent">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Study Menu Modal -->
    <div id="studyMenuModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-pink-600">ğŸ“– Cháº¿ Ä‘á»™ há»c táº­p</h2>
                <button onclick="studyManager.closeStudyMenu()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div class="grid grid-cols-2 gap-4">
                <button onclick="studyManager.startQuiz()" class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-6 rounded-xl hover:shadow-xl transition">
                    <div class="text-5xl mb-3">ğŸ“</div>
                    <div class="font-bold text-lg">Quiz Mode</div>
                    <div class="text-sm opacity-90">Tráº¯c nghiá»‡m tá»« vá»±ng</div>
                </button>
                <button onclick="studyManager.startFlashcards()" class="bg-gradient-to-br from-purple-500 to-pink-600 text-white p-6 rounded-xl hover:shadow-xl transition">
                    <div class="text-5xl mb-3">ğŸ´</div>
                    <div class="font-bold text-lg">Flashcards</div>
                    <div class="text-sm opacity-90">Láº­t tháº» há»c tá»«</div>
                </button>
                <button onclick="studyManager.startSpellingTest()" class="bg-gradient-to-br from-green-500 to-teal-600 text-white p-6 rounded-xl hover:shadow-xl transition">
                    <div class="text-5xl mb-3">âœï¸</div>
                    <div class="font-bold text-lg">Spelling Test</div>
                    <div class="text-sm opacity-90">Kiá»ƒm tra chÃ­nh táº£</div>
                </button>
                <button onclick="studyManager.showStudyPlan()" class="bg-gradient-to-br from-blue-500 to-cyan-600 text-white p-6 rounded-xl hover:shadow-xl transition">
                    <div class="text-5xl mb-3">ğŸ“…</div>
                    <div class="font-bold text-lg">Study Plan</div>
                    <div class="text-sm opacity-90">Káº¿ hoáº¡ch há»c táº­p</div>
                </button>
            </div>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-indigo-600">ğŸ“ Quiz Mode</h2>
                <button onclick="studyManager.closeQuiz()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="quizContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Flashcard Modal -->
    <div id="flashcardModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-purple-600">ğŸ´ Flashcards</h2>
                <button onclick="studyManager.closeFlashcards()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="flashcardContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Spelling Test Modal -->
    <div id="spellingModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-green-600">âœï¸ Spelling Test</h2>
                <button onclick="studyManager.closeSpelling()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="spellingContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Study Plan Modal -->
    <div id="studyPlanModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-blue-600">ğŸ“… Káº¿ hoáº¡ch há»c táº­p</h2>
                <button onclick="studyManager.closeStudyPlan()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="studyPlanContainer">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <style>
        /* Flashcard flip animation */
        .flashcard-flip {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard-flip.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            backface-visibility: hidden;
        }

        .flashcard-back {
            transform: rotateY(180deg);
        }

        .flashcard-flip.flipped .flashcard-front {
            display: none;
        }

        .flashcard-flip.flipped .flashcard-back {
            display: block !important;
        }
    </style>
